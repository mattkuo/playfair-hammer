extern crate rand;

mod scoring;
mod playfair;

use std::collections::HashMap;
use std::f64::consts::E;

fn main() {

    let map: HashMap<String, f64> = match scoring::read_ngram("./ngrams/quadgrams.txt") {
        Ok(m) => m,
        Err(err) => panic!("Failed to parse ngram file: {:?}", err)
    };

    let cipher = "LANSGKIMFNVHMCXUMEAGQAUFKGDCIYKHVDFDNUKMNXIXTDFHUBUELACKXUGXPKDWFDWDAKSZQBNFMEAQWAUXDMKHEALACNLQDADHTGUSMDSUBHHPDWFDFOEADEZUCYSNHOSNHNXDLAYILEDCLQLQDCKYDWFDIYKHUKZRUEIKHNXDLAYIKHVDFDLACNLQKGMELAMSGVNFEDSYKCNAALDCZUPHDOEQNFEDANUBMEFOQCUERQUZQEBCUELAMDDFMEZUCYSUAKHDAFKMTDQEMELANSHTSCGXUADCQFDHAQLAYSMDLNDWFDIYZHSMEDYMYIITTEHFMEAQLACSNFKMDTQXIXYIMEAKLACSNMQTKVZSHEDWFDQHGQGXMGKUXBDFTBMDKHVDFDAKLAYIZIALXVOXZICPDWFDKCNABCFDEUNZIYHXMEIKHDBALAMICKLBAKZKQHONTMTHVHMCHOGXTFASDCZUNFCQMDDTLACNFDZYDCHAHDBALAAGZOSUISZOQTCSNACYDWFDTDSENXHBCNKHVDFDDZLTTZFAMNNAGUMDLBSEUEIZFNEAAGQAMTZIALDTLAYSUXKYDCQDWAMYZXNFIZKUBUYDMDXBKWNSDCWDAKSZZOSAAQUSFOTDSZBAQBNSUZYESMUBXOEUYDMCNLMEHDQTTAZDHWCDKMZSBTMDNASDMUMEHDBNAGQDTFHEAKMUEMFALANAKXGUIYYCFLGDKFZSBTKIDADHTEHFCKDHEMHEDWFDTRSASEKASNTHQXUXSNHDBALACNATUYMEUZZOLNDWFDUEQAOFSEMEUZMYFONBXOQBMEAWUADCTHKCHDBALACDZIXADCOICYGUMYESFAAQDCPEDWFDUGYAEUKUAWMUFAAQDCESLQNFYCSYKXEALACMDUGXMUPVDQUEQGGXGIALZUAKUOSNLTXUUZKULAMICKQMXNHDAFMSLAYIAWLAMIXBKWMDSNMZETZSCKYCQXLAUXSDMELAMSZBNMANIVDSFNEGEAAWTDTZSNNFHMDTDMEDBUDUZOBALAGXGICPDWFDDTLAAGZOLAMEXUEWNSHTFOBDDIKWMEAQLACNKMDCOIMDFIVAPTMELAMDAGEAAWLAMICKTMDAAQLQCMDEAQLAYIKMDTXUITQBMDDWKMDCIYQALAMSBYUZZOBNOASCEXIYPOSDFOEAOUDUCFDGFAUEIZQAMYZXSDKHPVNFGDETDCOHKHVDFDTRBALAMDAGZYKDUADCKASDCMGXMYASXQCKAQDZKUWDIYLANFHFGUKMDZSNMCHNHKEYDWFDLQUGBASUKUFDSMLQZEHTBCHTAKUQDCQAWHUADCDCOIMEAQDCHTFOEBESHXSIDMTPMKBHHPDWFDTZEZITHDLFNDKHYEBEOASCNBXZITLASDFOEATXYETFEMZXSDPHDOWGUSXOTEXGSAAQOXNFEDDWMINFXGXDITKIIYGKTAAWLAMEXUEKMDTDBALAYDCKHDUADCLQUXZIALXIRMCYDWFDSZZOQLZQUESUKUUELAMEUDWDEAFHKCHAHDFKLQDUIBMGEAKGDEAQQDIMPOYIMSFADCHOGYUOIXCKSYKXEALACDMEIKNUAGFADUKFDTZHXNUEIOAQIUXFCSYZHNCQMESYKCNAALDCZUMNNSDTTEHFNDEANXHBCNLMMEQAFOIXLANMGXFAHDXGKHVDFDPOZEDLFGKUUEFOIXNALAMSUXVHVZDOPCKHVDFDLAAGZOKAQXXEXOXMSDRSBCHWCKMEUSHDBALACDHTQPXNFOLBXUIKKHVDFDESPSCBUSKHVDFDNFEDIFFLGAITBCEMKHUXSNHEDWFDMGLADFOUEUMUYCFANHZVNSKHMYUZKUWDLQAWLAMDQAKCPTDAXGHDBALAYDCNMDAWLACMHTNMHNMEWHUBUXUSQDFADCFOBHTPHQQHMKEDFNMCNFXEOASCNXLQDCEBBUDHCMDTSAAQLANSGKIMCAHTSNHOANDCXFKVDADHCKHDXGSCOHUEIZFAAQDCKCABGXDWKHVDFDDCDSANSNAMXGLAMDFHYCAWOXNDUBSYNAKHVDFDLACKTEHFNSGUKCASDCXBAKICXOEASCHDBALAMEUXMGKUGXDWFOTMZTQHMTZSCKLFKDZHCYDWFDDSBASUKUNAHTAKUOEAXGFNSNANTBMEAQLAYIDADWTITIHTUTUYUSGUCDOHSYCKFZLDMENHIYSCBDLBNRFHUOUELQLAKMHTBLHDSUBHTZISFNSUAKNHIMVUDWXUDOUZKUMUIYSYKCNAXOXOEAQDIMFDBXSCFDFACSMZCYMDGUWDTFSNXSNXIZSHMEISBYGXIXAQTEHFNDEANXHBCNSZKUYIMEWAUXWDIMFAAKLANSXZMDXDSHHDANLQDCZUCNMDIUKMHNNZLQDWMEQALACSHNWKPTZIALKHVDFDLACNMKIYXIOFFTVMXUASAQDCLQUXKUMDAUNDATIYAWLAMDYCKCNFHFFHIYFABCTFKHETEZAGLDIFNFMUIGIYXOKUUEIGMLSEMEKGKAMYUBDCANTBCYDWFDIYWXBPUEIQQHPQNXDSMTITMCEAMEXVNFUEMRDSTBYIHWCYDWFDNFXINMSCNLMEUELAMIZUGXUXEAUELAYSXUCYDWFDWHSZLDMETIUVHNKDUADCANTBYSCSKG";

    let mut fitness = scoring::get_text_score(cipher, 4, &map);
}
